<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performance Prediction Form</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0597f3 0%, #0bf10b 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .student-illustration {
            width: 150px;
            height: 150px;
            margin: 20px auto;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4em;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .form-container {
            padding: 50px 40px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 20px;
        }

        .mb-3 {
            margin-bottom: 0;
        }

        .form-label {
            display: block;
            margin-bottom: 10px;
            color: #333;
            font-weight: 600;
            font-size: 0.95em;
        }

        .form-control {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1em;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }

        select.form-control {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23667eea' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            padding-right: 40px;
        }

        input[type="number"].form-control {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16' fill='%23667eea'%3E%3Cpath d='M8 0a1 1 0 011 1v6h6a1 1 0 110 2H9v6a1 1 0 11-2 0V9H1a1 1 0 010-2h6V1a1 1 0 011-1z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            background-size: 16px;
        }

        .btn-primary {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 30px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
        }

        .btn-primary:active {
            transform: translateY(-1px);
        }

        .result-container {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            margin-top: 30px;
            animation: bounceIn 0.6s ease-out;
            box-shadow: 0 10px 30px rgba(17, 153, 142, 0.3);
        }

        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.3); }
            50% { transform: scale(1.05); }
            100% { opacity: 1; transform: scale(1); }
        }

        .result-container h2 {
            font-size: 2.2em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .result-score {
            font-size: 4em;
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.2);
            margin: 20px 0;
        }

        .result-message {
            font-size: 1.2em;
            margin-top: 15px;
            opacity: 0.95;
        }

        .back-button {
            display: inline-block;
            margin-top: 25px;
            padding: 12px 30px;
            background: white;
            color: #11998e;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .back-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }

        .loading {
            display: none;
            text-align: center;
            margin-top: 30px;
        }

        .spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            color: #667eea;
            font-weight: bold;
            font-size: 1.1em;
        }

        .info-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            border-radius: 12px;
            margin-top: 30px;
            border-left: 5px solid #667eea;
        }

        .info-card h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .info-card p {
            color: #555;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8em;
            }

            .form-container {
                padding: 30px 20px;
            }

            .result-score {
                font-size: 3em;
            }
        }

        /* Floating animation for illustration */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .student-illustration {
            animation: float 3s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <div class="student-illustration">üéì</div>
                <h1>üìö Student Performance Prediction</h1>
                <p>Enter student details to predict mathematics exam score</p>
            </div>
        </div>

        <div class="form-container">
            <form action="{{ url_for('predict_datapoint')}}" method="post" id="predictionForm">
                <div class="form-grid">
                    <div class="mb-3">
                        <label class="form-label">üë§ Gender</label>
                        <select class="form-control" name="gender" required>
                            <option value="" disabled selected>Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">üåç Race or Ethnicity</label>
                        <select class="form-control" name="ethnicity" required>
                            <option value="" disabled selected>Select Ethnicity</option>
                            <option value="group A">Group A</option>
                            <option value="group B">Group B</option>
                            <option value="group C">Group C</option>
                            <option value="group D">Group D</option>
                            <option value="group E">Group E</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">üéì Parental Level of Education</label>
                        <select class="form-control" name="parental_level_of_education" required>
                            <option value="" disabled selected>Select Parent Education</option>
                            <option value="associate's degree">Associate's Degree</option>
                            <option value="bachelor's degree">Bachelor's Degree</option>
                            <option value="high school">High School</option>
                            <option value="master's degree">Master's Degree</option>
                            <option value="some college">Some College</option>
                            <option value="some high school">Some High School</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">üçΩÔ∏è Lunch Type</label>
                        <select class="form-control" name="lunch" required>
                            <option value="" disabled selected>Select Lunch Type</option>
                            <option value="free/reduced">Free/Reduced</option>
                            <option value="standard">Standard</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">üìñ Test Preparation Course</label>
                        <select class="form-control" name="test_preparation_course" required>
                            <option value="" disabled selected>Select Test Course</option>
                            <option value="none">None</option>
                            <option value="completed">Completed</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">‚úçÔ∏è Writing Score (0-100)</label>
                        <input class="form-control" type="number" name="reading_score" 
                               placeholder="Enter Writing Score" min="0" max="100" step="1" required>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">üìö Reading Score (0-100)</label>
                        <input class="form-control" type="number" name="writing_score" 
                               placeholder="Enter Reading Score" min="0" max="100" step="1" required>
                    </div>
                </div>

                <button class="btn-primary" type="submit">üîÆ Predict Math Score</button>
            </form>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p class="loading-text">Calculating prediction...</p>
            </div>

            {% if results %}
            <div class="result-container">
                <h2>üéØ Predicted Math Score</h2>
                <div class="result-score">{{ "%.2f"|format(results) }}</div>
                <div class="result-message">
                    {% if results >= 80 %}
                        Excellent performance expected! üåü
                    {% elif results >= 60 %}
                        Good performance expected! üëç
                    {% elif results >= 40 %}
                        Average performance expected üìä
                    {% else %}
                        Needs improvement üìö
                    {% endif %}
                </div>
                <a href="/" class="back-button">‚Üê Back to Home</a>
            </div>
            {% endif %}

            <div class="info-card">
                <h3>‚ÑπÔ∏è How It Works</h3>
                <p>Our machine learning model analyzes various factors including demographic information, 
                parental education, and other test scores to predict the expected mathematics exam score. 
                The prediction is based on patterns learned from thousands of student records.</p>
            </div>
        </div>
    </div>

    <script>
        const form = document.getElementById('predictionForm');
        const loading = document.getElementById('loading');

        form.addEventListener('submit', function() {
            loading.style.display = 'block';
            document.querySelector('.btn-primary').disabled = true;
        });

        // Input validation
        const numberInputs = document.querySelectorAll('input[type="number"]');
        numberInputs.forEach(input => {
            input.addEventListener('input', function() {
                if (this.value > 100) this.value = 100;
                if (this.value < 0) this.value = 0;
            });

            input.addEventListener('blur', function() {
                if (this.value === '') return;
                this.value = Math.round(this.value);
            });
        });

        // Visual feedback on form controls
        const formControls = document.querySelectorAll('.form-control');
        formControls.forEach(control => {
            control.addEventListener('change', function() {
                if (this.value) {
                    this.style.borderColor = '#38ef7d';
                }
            });
        });

        // Add tooltips
        const labels = document.querySelectorAll('.form-label');
        labels.forEach(label => {
            label.style.cursor = 'help';
        });
    </script>
</body>
</html>